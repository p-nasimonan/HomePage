---
import { css } from '../../styled-system/css';

export interface Props {
  title?: string;
  subtitle?: string;
  background?: 'white' | 'gray' | 'teal' | 'transparent';
  padding?: 'sm' | 'md' | 'lg' | 'xl';
  maxWidth?: string;
  textAlign?: 'left' | 'center' | 'right';
  className?: string;
}

const { 
  title,
  subtitle,
  background = 'transparent',
  padding = 'lg',
  maxWidth = '1200px',
  textAlign = 'center',
  className = ''
} = Astro.props;

const backgroundStyles = {
  white: 'white',
  gray: 'gray.50',
  teal: 'teal.50',
  transparent: 'transparent'
};

const paddingStyles = {
  sm: '2rem 0',
  md: '3rem 0',
  lg: '4rem 0',
  xl: '5rem 0'
};
---

<section class={`${css({
  padding: paddingStyles[padding],
  background: backgroundStyles[background],
  '@media (max-width: 768px)': {
    padding: padding === 'xl' ? '3rem 0' : 
             padding === 'lg' ? '2.5rem 0' :
             padding === 'md' ? '2rem 0' : '1.5rem 0'
  }
})} ${className}`}>
  <div class={css({
    maxWidth,
    margin: '0 auto',
    padding: '0 20px',
    '@media (max-width: 768px)': {
      padding: '0 16px'
    }
  })}>
    {(title || subtitle) && (
      <div class={css({
        textAlign,
        marginBottom: title && subtitle ? '3rem' : title ? '2rem' : '1rem',
        '@media (max-width: 768px)': {
          marginBottom: title && subtitle ? '2rem' : title ? '1.5rem' : '1rem'
        }
      })}>
        {title && (
          <h2 class={css({
            fontSize: '2.5rem',
            fontWeight: 'bold',
            marginBottom: subtitle ? '1rem' : '0',
            color: 'gray.900',
            lineHeight: '1.2',
            '@media (max-width: 768px)': {
              fontSize: '2rem'
            },
            '@media (max-width: 480px)': {
              fontSize: '1.75rem'
            }
          })}>
            {title}
          </h2>
        )}
        {subtitle && (
          <p class={css({
            fontSize: '1.2rem',
            color: 'gray.600',
            margin: '0',
            lineHeight: '1.6',
            '@media (max-width: 768px)': {
              fontSize: '1.1rem'
            }
          })}>
            {subtitle}
          </p>
        )}
      </div>
    )}
    <slot />
  </div>
</section>

---
// „Éñ„É≠„Ç∞Ë®ò‰∫ã„ÇíÂèñÂæó
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import { button } from '../styled-system/recipes';
import PostCard from '../components/PostCard.astro';
import SkillCard from '../components/SkillCard.astro';
import HeroSection from '../components/HeroSection.astro';
import Section from '../components/Section.astro';
import Grid from '../components/Grid.astro';

// ÊúÄÊñ∞„ÅÆ„Éñ„É≠„Ç∞Ë®ò‰∫ã„Çí3‰ª∂ÂèñÂæó
const posts = await getCollection('blog', ({ data }) => {
  return import.meta.env.PROD ? data.draft !== true : true;
}).then(posts => posts.sort((a, b) => new Date(b.data.pubDate).valueOf() - new Date(a.data.pubDate).valueOf()).slice(0, 3));
---

<Layout title="„Çà„ÅÜ„Åã„Çì - ÂÄã‰∫∫„Éñ„É≠„Ç∞" description="„Çà„ÅÜ„Åã„Çì„ÅÆÂÄã‰∫∫„Éñ„É≠„Ç∞„Åß„Åô„ÄÇÊäÄË°ìÁöÑ„Å™Áü•Ë¶ã„ÇÑÊó•Â∏∏„ÅÆÊ∞ó„Å•„Åç„ÇíÂÖ±Êúâ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ">
  <!-- „É°„Ç§„É≥„Éì„Ç∏„É•„Ç¢„É´ -->
  <HeroSection 
    title="„Çà„ÅÜ„Åã„Çì„ÅÆ„Éñ„É≠„Ç∞„Å∏„Çà„ÅÜ„Åì„Åù"
    subtitle="„Éï„É≠„É≥„Éà„Ç®„É≥„ÉâÈñãÁô∫ËÄÖ„Å®„Åó„Å¶Ê¥ªÂãï„Åó„Å™„Åå„Çâ„ÄÅÊäÄË°ìÁöÑ„Å™Áü•Ë¶ã„ÇÑÊó•Â∏∏„ÅÆÊ∞ó„Å•„Åç„ÇíÂÖ±Êúâ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ"
    ctaText="Ëá™Â∑±Á¥π‰ªã„ÇíË¶ã„Çã"
    ctaLink="/about"
    variant="outline"
    size="lg"
  />

  <!-- ÊúÄÊñ∞„Éñ„É≠„Ç∞Ë®ò‰∫ã -->
  <Section title="ÊúÄÊñ∞„ÅÆË®ò‰∫ã" background="tertiary" padding="lg">
    <Grid minWidth="350px" gap="2rem" centerContent={true}>
      {posts.map((post, index) => (
        <PostCard
          title={post.data.title}
          description={post.data.description}
          pubDate={post.data.pubDate}
          slug={post.slug}
          image={post.data.image}
          tags={post.data.tags}
          variant={index === 0 ? 'featured' : 'default'}
          size="md"
        />
      ))}
      
      <div slot="center-content">
        <a href="/blog" class={button({ variant: 'secondary', size: 'md' })}>„Åô„Åπ„Å¶„ÅÆË®ò‰∫ã„ÇíË¶ã„Çã</a>
      </div>
    </Grid>
  </Section>

  <!-- „Çπ„Ç≠„É´„ÉªËààÂë≥ -->
  <Section title="„Çπ„Ç≠„É´„ÉªËààÂë≥" background="primary" padding="lg">
    <Grid minWidth="300px" gap="2rem">
      <SkillCard
        icon="üíª"
        title="„Éï„É≠„É≥„Éà„Ç®„É≥„ÉâÈñãÁô∫"
        description="React„ÄÅVue„ÄÅAstro„Å™„Å©„ÅÆ„É¢„ÉÄ„É≥„Å™„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ„Çí‰ΩøÁî®„Åó„ÅüWeb„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥ÈñãÁô∫"
        variant="cream"
        size="lg"
      />
      <SkillCard
        icon="üé®"
        title="UI/UX„Éá„Ç∂„Ç§„É≥"
        description="„É¶„Éº„Ç∂„Éì„É™„ÉÜ„Ç£„ÇíÈáçË¶ñ„Åó„Åü„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ„Éá„Ç∂„Ç§„É≥„Å®„É¶„Éº„Ç∂„Éº‰ΩìÈ®ì„ÅÆÂêë‰∏ä"
        variant="mint"
        size="lg"
      />
      <SkillCard
        icon="üìö"
        title="ÊäÄË°ì„Éñ„É≠„Ç∞"
        description="Â≠¶„Çì„Å†ÊäÄË°ì„ÇÑÁü•Ë¶ã„Çí„Éñ„É≠„Ç∞„ÅßÂÖ±Êúâ„Åó„ÄÅ„Ç≥„Éü„É•„Éã„ÉÜ„Ç£„Å´Ë≤¢ÁåÆ"
        variant="default"
        size="lg"
      />
    </Grid>
  </Section>
</Layout> 